<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Week 13 Listening Practice</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      font-family: Arial, "Microsoft JhengHei", sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 12px;
      line-height: 1.7;
      font-size: 18px;
    }
    h1, h2 { text-align: center; margin: 8px 0; }
    h1 { font-size: 1.5rem; }
    h2 { font-size: 1.1rem; }

    .section {
      max-width: 900px;
      margin: 12px auto;
      background: #ffffff;
      border-radius: 16px;
      padding: 14px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    .sentence { padding: 4px 0; }
    .text-en { font-weight: bold; font-size: 1rem; }
    .text-zh { font-size: 0.9rem; color: #444; padding-left: 4px; }

    button {
      border: none;
      padding: 10px 16px;
      border-radius: 999px;
      background: #4b8cff;
      color: #ffffff;
      cursor: pointer;
      margin-top: 8px;
      font-size: 0.95rem;
      width: 100%;
    }
    button:active { opacity: 0.8; }

    .progress {
      height: 8px;
      width: 100%;
      background: #eee;
      border-radius: 999px;
      margin-top: 8px;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background: #4b8cff;
      border-radius: 999px;
      transition: width 0.1s linear;
    }

    .speed-control {
      max-width: 900px;
      margin: 4px auto 10px auto;
      text-align: center;
      font-size: 0.9rem;
    }
    select {
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid #ccc;
      font-size: 0.9rem;
    }

    .hypnosis { text-align: center; max-width: 900px; margin: 10px auto 20px auto; }
    .hypnosis button { background: #9b6bff; }

    .note-card {
      max-width: 900px;
      margin: 8px auto;
      background: #fff5d7;
      border-radius: 12px;
      padding: 10px 12px;
      font-size: 0.9rem;
      border: 1px dashed #f0b400;
    }

    .img-card { text-align: center; margin-bottom: 10px; }
    .img-card img {
      max-width: 100%;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .img-caption {
      font-size: 0.85rem;
      color: #666;
      margin-top: 4px;
    }
  </style>
</head>
<body>

<h1>Week 13 Listening Practice</h1>

<!-- æ’­æ”¾é€Ÿåº¦ -->
<div class="speed-control">
  ğŸ”Š æ’­æ”¾é€Ÿåº¦ï¼š
  <select id="speedSelect">
    <option value="1">1.0Ã—</option>
    <option value="0.8">0.8Ã—ï¼ˆæ…¢é€Ÿï¼‰</option>
  </select>
</div>

<!-- æ˜ŸæœŸä¸€ -->
<div class="section">
  <h2>ğŸ“… Mondayã€€æ˜ŸæœŸä¸€</h2>

  <div class="sentence"><div class="text-en">First, I wash my hands.</div><div class="text-zh">é¦–å…ˆï¼Œæˆ‘æ´—æ‰‹ã€‚</div></div>
  <div class="sentence"><div class="text-en">Next, I use soap on my hands.</div><div class="text-zh">æ¥è‘—ï¼Œæˆ‘ç”¨è‚¥çš‚ã€‚</div></div>
  <div class="sentence"><div class="text-en">Then, I rinse my hands.</div><div class="text-zh">ç„¶å¾Œï¼Œæˆ‘æŠŠæ‰‹æ²–ä¹¾æ·¨ã€‚</div></div>
  <div class="sentence"><div class="text-en">Last, I dry my hands.</div><div class="text-zh">æœ€å¾Œï¼Œæˆ‘æŠŠæ‰‹æ“¦ä¹¾ã€‚</div></div>

  <button class="play-day" data-audio="First Next Then Last.mp3">â–¶ Play Monday</button>
  <div class="progress"><div class="progress-bar"></div></div>
</div>

<!-- æ˜ŸæœŸäºŒ -->
<div class="section">
  <h2>ğŸ“… Tuesdayã€€æ˜ŸæœŸäºŒ</h2>

  <div class="sentence"><div class="text-en">Every morning, I wash my hands to stay healthy.</div><div class="text-zh">æ¯å¤©æ—©ä¸Šï¼Œæˆ‘æœƒæ´—æ‰‹ä¿æŒå¥åº·ã€‚</div></div>
  <div class="sentence"><div class="text-en">First, I turn on the tap and make my hands wet.</div><div class="text-zh">é¦–å…ˆï¼Œæˆ‘æ‰“é–‹æ°´é¾é ­æŠŠæ‰‹å¼„æ¿•ã€‚</div></div>
  <div class="sentence"><div class="text-en">Then I use soap and rub my hands together.</div><div class="text-zh">ç„¶å¾Œï¼Œæˆ‘ç”¨è‚¥çš‚æ“æ´—é›™æ‰‹ã€‚</div></div>
  <div class="sentence"><div class="text-en">I rinse the bubbles off with water.</div><div class="text-zh">æˆ‘ç”¨æ°´æŠŠæ³¡æ³¡æ²–æ‰ã€‚</div></div>
  <div class="sentence"><div class="text-en">Last, I dry my hands with a soft towel.</div><div class="text-zh">æœ€å¾Œï¼Œæˆ‘ç”¨æ¯›å·¾æ“¦ä¹¾æ‰‹ã€‚</div></div>

  <button class="play-day" data-audio="Reading.mp3">â–¶ Play Tuesday</button>
  <div class="progress"><div class="progress-bar"></div></div>
</div>

<!-- æ˜ŸæœŸä¸‰ -->
<div class="section">
  <h2>ğŸ“… Wednesdayã€€æ˜ŸæœŸä¸‰ï¼ˆWriting + Labelsï¼‰</h2>

  <div class="img-card">
    <img src="Labels.png" alt="Labels">
    <div class="img-caption">âœï¸ Look at the picture and read the sentences.</div>
  </div>

  <div class="sentence"><div class="text-en">I wash my hands with soap.</div><div class="text-zh">æˆ‘ç”¨è‚¥çš‚æ´—æ‰‹ã€‚</div></div>
  <div class="sentence"><div class="text-en">I rub my hands to make bubbles.</div><div class="text-zh">æˆ‘æ“æ‰‹è®“æ³¡æ³¡è·‘å‡ºä¾†ã€‚</div></div>
  <div class="sentence"><div class="text-en">Water is coming from the tap.</div><div class="text-zh">æ°´å¾æ°´é¾é ­æµå‡ºä¾†ã€‚</div></div>
  <div class="sentence"><div class="text-en">The water splashes on my hands.</div><div class="text-zh">æ°´èŠ±æ¿ºåˆ°æˆ‘çš„æ‰‹ä¸Šã€‚</div></div>

  <button class="play-day" data-audio="Writing.mp3">â–¶ Play Wednesday</button>
  <div class="progress"><div class="progress-bar"></div></div>
</div>

<!-- å°æé†’ -->
<div class="note-card">
  ğŸ—£ <strong>ç™¼éŸ³æé†’ï¼š</strong>ã€Œhandsã€çš„ s è¦å”¸æˆ /z/ï¼ˆhandzï¼‰<br>
</div>

<!-- å‚¬çœ æ¨¡å¼ -->
<div class="hypnosis">
  <button id="playAll">ğŸŒ™ å‚¬çœ æ¨¡å¼ï¼šMonday â†’ Tuesday â†’ Wednesday</button>
</div>

<script>
  const playButtons = document.querySelectorAll(".play-day");
  const speedSel = document.getElementById("speedSelect");
  const bars = document.querySelectorAll(".progress-bar");

  let current = null; // ç›®å‰æ’­æ”¾çš„ audio
  let currentBar = null;
  let currentBtn = null;

  function resetBars() {
    bars.forEach(b => b.style.width = "0%");
  }

  function stopAll() {
    if (current) {
      current.pause();
      current.currentTime = 0;
    }
    resetBars();
    if (currentBtn) currentBtn.textContent = "â–¶ Play";
    current = null;
    currentBtn = null;
    currentBar = null;
  }

  // â–¶ å–®æ—¥æ’­æ”¾ï¼šå¯ Play / Pause åˆ‡æ›
  playButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      const src = btn.dataset.audio;

      // è‹¥æŒ‰çš„æ˜¯åŒä¸€å¤© â†’ åš Play / Pause åˆ‡æ›
      if (current && currentBtn === btn) {
        if (current.paused) {
          current.play();
          btn.textContent = "â¸ Pause";
        } else {
          current.pause();
          btn.textContent = "â–¶ Play";
        }
        return;
      }

      // æŒ‰åˆ°ä¸åŒçš„æ—¥å­ â†’ é‡æ’­æ–°çš„
      stopAll();

      const audio = new Audio(src);
      const bar = btn.nextElementSibling.querySelector(".progress-bar");

      current = audio;
      currentBar = bar;
      currentBtn = btn;

      btn.textContent = "â¸ Pause";

      audio.playbackRate = parseFloat(speedSel.value);
      audio.play();

      audio.ontimeupdate = () => {
        if (audio.duration)
          bar.style.width = (audio.currentTime / audio.duration) * 100 + "%";
      };

      audio.onended = () => {
        bar.style.width = "0%";
        btn.textContent = "â–¶ Play";
      };
    });
  });

  // ğŸŒ™ å‚¬çœ æ¨¡å¼ï¼ˆå…¨éƒ¨ä¾åºæ’­æ”¾ï¼‰â€” æ”¯æ´æ’­æ”¾ä¸­æŒ‰ä»»ä¸€å¤©å¯ä¸­æ–·
  document.getElementById("playAll").addEventListener("click", () => {
    stopAll();

    const list = [
      "First Next Then Last.mp3",
      "Reading.mp3",
      "Writing.mp3"
    ];
    let i = 0;

    function playNext() {
      if (i >= list.length) {
        stopAll();
        return;
      }

      const audio = new Audio(list[i]);
      current = audio;

      audio.playbackRate = parseFloat(speedSel.value);
      audio.play();

      audio.onended = () => {
        i++;
        setTimeout(playNext, 500);
      };
    }

    playNext();
  });
</script>


</body>
</html>
